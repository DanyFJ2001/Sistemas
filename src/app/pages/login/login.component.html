<!-- src/app/pages/login/login.component.html -->
<div class="login-container">
  
  <!-- Canvas para efecto de partículas -->
  <canvas #particleCanvas class="particle-canvas"></canvas>

  <!-- Líneas de escaneo -->
  <div class="scanlines"></div>

  <!-- Contenido principal -->
  <main class="main-content">
    
    <!-- Header con estilo BOSS de videojuego -->
    <header class="brand-header" [class.complete]="isTypingComplete">
      
      <!-- Línea decorativa superior -->
      <div class="boss-line top" [class.visible]="isTypingComplete">
        <span class="line-edge left"></span>
        <span class="line-center"></span>
        <span class="line-edge right"></span>
      </div>

      <!-- Contenedor del título -->
      <div class="boss-title-container">
        <!-- Efecto de glitch en el fondo -->
        <div class="glitch-bg" *ngIf="isTypingComplete"></div>
        
        <!-- Terminal prompt y tipeo -->
        <div class="typing-wrapper" [class.complete]="isTypingComplete">
          <span class="terminal-prompt" *ngIf="!isTypingComplete">></span>
          <h1 class="boss-title" 
              [class.typing-error]="typingState === 'typing' && currentStepIndex < 3"
              [class.typing-delete]="typingState === 'deleting'"
              [class.typing-complete]="isTypingComplete">
            {{ displayText }}
          </h1>
          <span class="cursor" 
                [class.visible]="cursorVisible && !isTypingComplete"
                [class.enter-flash]="showEnterEffect">_</span>
        </div>

        <!-- Subtítulo que aparece después -->
        <div class="boss-subtitle" [class.visible]="isTypingComplete">
          <span class="subtitle-text">— SYSTEM ACTIVATED —</span>
        </div>
      </div>

      <!-- Línea decorativa inferior -->
      <div class="boss-line bottom" [class.visible]="isTypingComplete">
        <span class="line-edge left"></span>
        <span class="line-center"></span>
        <span class="line-edge right"></span>
      </div>

      <!-- Tagline -->
      <div class="tagline" [class.visible]="isTypingComplete">
        <span class="tag-bracket">[</span>
        <span class="tag-text">SISTEMA DE GESTIÓN INFORMÁTICA</span>
        <span class="tag-bracket">]</span>
      </div>
    </header>

    <!-- Terminal Box -->
    <section class="terminal-box">
      
      <!-- Header del terminal -->
      <div class="terminal-header">
        <div class="terminal-title">
          <span class="terminal-icon">▸</span>
          <span>ACCESO_SISTEMA</span>
        </div>
        <div class="status-indicator">
          <span class="status-dot"></span>
          <span>SEGURO</span>
        </div>
      </div>

      <!-- Body -->
      <div class="terminal-content">

        <!-- Error -->
        <div *ngIf="errorMessage" class="error-box">
          <span class="error-icon">⚠</span>
          <span class="error-text">{{ errorMessage }}</span>
        </div>

        <!-- Formulario -->
        <form class="login-form" (ngSubmit)="onLogin()">
          
          <!-- Email -->
          <div class="form-field">
            <label for="email">USUARIO:</label>
            <input 
              type="email" 
              id="email"
              [(ngModel)]="email"
              name="email"
              (input)="onInputChange()"
              placeholder="correo@segurilab.com"
              [disabled]="loading"
              autocomplete="email"
              required>
          </div>

          <!-- Password -->
          <div class="form-field">
            <label for="password">CLAVE:</label>
            <div class="password-field">
              <input 
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                [(ngModel)]="password"
                name="password"
                (input)="onInputChange()"
                placeholder="••••••••"
                [disabled]="loading"
                autocomplete="current-password"
                required>
              <button 
                type="button"
                class="show-pass-btn"
                (click)="togglePasswordVisibility()"
                [disabled]="loading">
                {{ showPassword ? 'OCULTAR' : 'VER' }}
              </button>
            </div>
          </div>

          <!-- Botón Submit -->
          <button 
            type="submit" 
            class="submit-btn"
            [disabled]="loading">
            <span class="btn-content" *ngIf="!loading">
              INGRESAR
            </span>
            <span class="btn-content" *ngIf="loading">
              PROCESANDO...
            </span>
          </button>

        </form>

        <!-- Footer del terminal -->
        <div class="terminal-footer">
          <span class="blink-cursor">█</span>
          <span>Solo personal autorizado</span>
        </div>

      </div>
    </section>

  </main>

</div>